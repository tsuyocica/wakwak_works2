<div class="flash-container position-fixed top-0 start-50 translate-middle-x mt-3" style="z-index: 1050;">
  <% flash.each do |type, message| %>
    <div class="alert alert-<%= bootstrap_class_for(type) %> alert-dismissible fade show shadow-sm flash-message" role="alert">
      <%= message %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    console.log("✅ Flash Message JavaScript Loaded");

    setTimeout(() => {
      document.querySelectorAll('.flash-message').forEach(message => {
        if (message && typeof bootstrap !== 'undefined' && bootstrap.Alert) {
          let bsAlert = new bootstrap.Alert(message);
          bsAlert.close();
          console.log("✅ Flash Message Closed"); // デバッグ用
        } else {
          console.warn("⚠ Bootstrap Alert が適用できませんでした");
        }
      });
    }, 2000); // 2秒後に自動で消える
  });
</script>